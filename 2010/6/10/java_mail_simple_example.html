<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>javamail发送邮件的简单事例 - veikr的博客</title>
    <meta name="keywords" content="veikr的博客"/>
    <meta name="description" content=""/>
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
    <link rel="stylesheet" href="/css/style.css"/>
</head>
<body class="post" data-perma="java_mail_simple_example">
<header id="header">
    <div class="container">
        <div class="header clearfix">
            <nav id="site-nav">
                <ul class="nav nav-inverse nav-pills pull-right">
                    <li role="presentation" class="">
                        <a href="/" >文章
                        </a>
                    </li>
                    <li role="presentation" class="">
                        <a href="/archive" >归档
                        </a>
                    </li>
                </ul>
            </nav>
            <h3 id="site-title">
                <a href="/">veikr的博客 <sup>关于web、关于java、关于android</sup></a>
            </h3>
        </div>
    </div>
</header>

<section id="main">
    <div class="container">
        <div id="article-single">
            <article class="article">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1 panel panel-default">
                        <header class="header">
                            <div class="meta">
                        <span class="date">
                            <span class="month">6</span>
                            <span class="day">10</span>
                        </span>
                            </div>
                            <h3 class="title">
                                <a href="/2010/6/10/java_mail_simple_example.html">javamail发送邮件的简单事例</a>
                            </h3>
                        </header>
                        <aside class="aside clearfix">
                            
                            <a class="tag label label-info" href="/tags/java.html">java</a>
                            
                            <a class="tag label label-info" href="/tags/javamail.html">javamail</a>
                            
                            <a class="tag label label-info" href="/tags/mail.html">mail</a>
                            
                            <a class="tag label label-info" href="/tags/%e6%95%99%e7%a8%8b.html">教程</a>
                            
                            
                        </aside>
                        <section class="brief"><p>&nbsp;本文概要:主要简单介绍 javamail发送邮件,通过一个简单的例子,可以很容易的学会怎么样用java发送邮件.文章最后提供本事例的源代码下载</p><p>&nbsp;</p><p>Test.java<br /><br />&nbsp;package org.zzp.mail.mine;&nbsp;<br /><br />public class Test {  public static void main(String[] args) {        MyMailSender m</p>

<!--more-->

<p>本文概要:主要简单介绍 javamail发送邮件,通过一个简单的例子,可以很容易的学会怎么样用java发送邮件.
文章最后提供本事例的源代码下载</p>

<!--more-->

<p><span style="color: #3366ff;">Test.java</span></p>

<p>[java]&lt;/p&gt; &lt;p&gt;package org.zzp.mail.mine;&lt;/p&gt; &lt;p&gt;public class Test {&lt;/p&gt; &lt;p&gt;public static void main(String[] args) {&lt;/p&gt; &lt;p&gt;MyMailSender mail=new MyMailSender();&lt;/p&gt; &lt;p&gt;mail.setSenderAccount(&quot;发件人用户名&quot;);&lt;/p&gt; &lt;p&gt;mail.setSenderPassword(&quot;发件人密码&quot;);&lt;/p&gt; &lt;p&gt;mail.setSenderName(&quot;发件人显示姓名&quot;);&lt;/p&gt; &lt;p&gt;mail.setSenderAddress(&quot;发件邮箱地址&quot;);&lt;/p&gt; &lt;p&gt;mail.setHost(&quot;发件人smtp服务器地址&quot;);&lt;/p&gt; &lt;p&gt;mail.setSubject(&quot;邮件主题&quot;);&lt;/p&gt; &lt;p&gt;mail.setBody(&quot;邮件正文&quot;);&lt;/p&gt; &lt;p&gt;mail.addTo(&quot;收件人地址&quot;);&lt;/p&gt; &lt;p&gt;mail.addTo(&quot;收件人地址&quot;);&lt;/p&gt; &lt;p&gt;mail.addCC(&quot;抄送地址&quot;);&lt;/p&gt; &lt;p&gt;mail.addBCC(&quot;密送地址&quot;);&lt;/p&gt; &lt;p&gt;try {&lt;/p&gt; &lt;p&gt;System.out.println(&quot;正在发送&quot;);&lt;/p&gt; &lt;p&gt;mail.send();&lt;/p&gt; &lt;p&gt;System.out.println(&quot;成功&quot;);&lt;/p&gt; &lt;p&gt;} catch (Exception e) {&lt;/p&gt; &lt;p&gt;e.printStackTrace();&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;}&lt;/p&gt;&lt;p&gt;[/java]</p>

<p><span style="color: #3366ff;">SenderAccount.java</span></p>

<p>[java]&lt;/p&gt;&lt;p&gt;package org.zzp.mail.mine;&lt;/p&gt; &lt;p&gt;import javax.mail.Authenticator;&lt;/p&gt; &lt;p&gt;import javax.mail.PasswordAuthentication;&lt;/p&gt; &lt;p&gt;public class SenderAccount extends Authenticator {&lt;/p&gt; &lt;p&gt;private String username;&lt;/p&gt; &lt;p&gt;private String password;&lt;/p&gt; &lt;p&gt;private String senderAddress;&lt;/p&gt; &lt;p&gt;private String senderName;&lt;/p&gt; &lt;p&gt;private String host;&lt;/p&gt; &lt;p&gt;&amp;nbsp;&lt;/p&gt; &lt;p&gt;public SenderAccount(){&lt;/p&gt; &lt;p&gt;super();&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getUsername() {&lt;/p&gt; &lt;p&gt;return username;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setUsername(String username) {&lt;/p&gt; &lt;p&gt;this.username = username;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getPassword() {&lt;/p&gt; &lt;p&gt;return password;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setPassword(String password) {&lt;/p&gt; &lt;p&gt;this.password = password;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getSenderAddress() {&lt;/p&gt; &lt;p&gt;return senderAddress;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setSenderAddress(String fromAddress) {&lt;/p&gt; &lt;p&gt;senderAddress = fromAddress;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getSenderName() {&lt;/p&gt; &lt;p&gt;return senderName;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setSenderName(String fromName) {&lt;/p&gt; &lt;p&gt;senderName = fromName;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getHost() {&lt;/p&gt; &lt;p&gt;return host;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setHost(String host) {&lt;/p&gt; &lt;p&gt;this.host = host;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public PasswordAuthentication getPasswordAuthentication(){&lt;/p&gt; &lt;p&gt;return new PasswordAuthentication(username,password);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;}&lt;/p&gt;&lt;p&gt;[/java]</p>

<p><span style="color: #3366ff;">MyMailSender.java</span></p>

<p>[java]&lt;/p&gt;&lt;p&gt;package org.zzp.mail.mine;&lt;/p&gt; &lt;p&gt;import java.util.HashSet;&lt;/p&gt; &lt;p&gt;import java.util.Properties;&lt;/p&gt; &lt;p&gt;import java.util.Set;&lt;/p&gt; &lt;p&gt;import javax.mail.Message;&lt;/p&gt; &lt;p&gt;import javax.mail.Session;&lt;/p&gt; &lt;p&gt;import javax.mail.Transport;&lt;/p&gt; &lt;p&gt;import javax.mail.internet.InternetAddress;&lt;/p&gt; &lt;p&gt;import javax.mail.internet.MimeMessage;&lt;/p&gt; &lt;p&gt;public class MyMailSender {&lt;/p&gt; &lt;p&gt;private Set&amp;lt;String&amp;gt; to;&lt;/p&gt; &lt;p&gt;private Set&amp;lt;String&amp;gt; cc;&lt;/p&gt; &lt;p&gt;private Set&amp;lt;String&amp;gt; bcc;&lt;/p&gt; &lt;p&gt;private String subject;&lt;/p&gt; &lt;p&gt;private String body;&lt;/p&gt; &lt;p&gt;private SenderAccount senderAccount;&lt;/p&gt; &lt;p&gt;public MyMailSender() {&lt;/p&gt; &lt;p&gt;to = new HashSet&amp;lt;String&amp;gt;();&lt;/p&gt; &lt;p&gt;cc = new HashSet&amp;lt;String&amp;gt;();&lt;/p&gt; &lt;p&gt;bcc = new HashSet&amp;lt;String&amp;gt;();&lt;/p&gt; &lt;p&gt;senderAccount = new SenderAccount();&lt;/p&gt; &lt;p&gt;&amp;gt; }&lt;/p&gt; &lt;p&gt;public void setSenderAccount(String username) {&lt;/p&gt; &lt;p&gt;this.senderAccount.setUsername(username);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setSenderPassword(String senderPassword) {&lt;/p&gt; &lt;p&gt;this.senderAccount.setPassword(senderPassword);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setSenderAddress(String senderAddress) {&lt;/p&gt; &lt;p&gt;this.senderAccount.setSenderAddress(senderAddress);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setSenderName(String senderName) {&lt;/p&gt; &lt;p&gt;this.senderAccount.setSenderName(senderName);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setHost(String host) {&lt;/p&gt; &lt;p&gt;this.senderAccount.setHost(host);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getHost() {&lt;/p&gt; &lt;p&gt;return this.senderAccount.getHost();&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getSubject() {&lt;/p&gt; &lt;p&gt;return subject;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setSubject(String title) {&lt;/p&gt; &lt;p&gt;this.subject = title;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public String getBody() {&lt;/p&gt; &lt;p&gt;return body;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void setBody(String body) {&lt;/p&gt; &lt;p&gt;this.body = body;&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void addTo(String to) {&lt;/p&gt; &lt;p&gt;this.to.add(to);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void addCC(String e) {&lt;/p&gt; &lt;p&gt;this.cc.add(e);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;public void addBCC(String e) {&lt;/p&gt; &lt;p&gt;this.bcc.add(e);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;// 发送&lt;/p&gt; &lt;p&gt;public void send() throws Exception {&lt;/p&gt; &lt;p&gt;Properties props = new Properties();&lt;/p&gt; &lt;p&gt;props.put(&quot;mail.smtp.host&quot;, senderAccount.getHost());&lt;/p&gt; &lt;p&gt;props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);&lt;/p&gt; &lt;p&gt;Session session = Session.getDefaultInstance(props, senderAccount);&lt;/p&gt; &lt;p&gt;MimeMessage message = new MimeMessage(session);&lt;/p&gt; &lt;p&gt;message.setSubject(subject);&lt;/p&gt; &lt;p&gt;message.setText(body);&lt;/p&gt; &lt;p&gt;message.setFrom(new InternetAddress(senderAccount.getSenderAddress(),&lt;/p&gt; &lt;p&gt;senderAccount.getSenderName()));&lt;/p&gt; &lt;p&gt;// 添加收件人&lt;/p&gt; &lt;p&gt;for (String s : to) {&lt;/p&gt; &lt;p&gt;message.addRecipient(Message.RecipientType.TO, new InternetAddress(&lt;/p&gt; &lt;p&gt;s));&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;// 添加抄送&lt;/p&gt; &lt;p&gt;for (String s : cc) {&lt;/p&gt; &lt;p&gt;message.addRecipient(Message.RecipientType.CC,&lt;/p&gt; &lt;p&gt;new InternetAddress(s));&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;// 添加密送&lt;/p&gt; &lt;p&gt;for (String s : bcc) {&lt;/p&gt; &lt;p&gt;message.addRecipient(Message.RecipientType.BCC,&lt;/p&gt; &lt;p&gt;new InternetAddress(s));&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;// message.setSentDate(new Date(1988,10,12));&lt;/p&gt; &lt;p&gt;Transport.send(message);&lt;/p&gt; &lt;p&gt;}&lt;/p&gt; &lt;p&gt;}&lt;/p&gt;&lt;p&gt;[/java]</p>

<p>附件下载:
<a href="/upload_old/2010/6/javamail_example.zip" target="_blank">javamail_example.zip</a> (事例源代码)</p>

<p>javamail.jar包  <a href="/upload_old/2010/6/javamail.zip" target="_blank">javamail.zip</a></p>
</section>
                    </div>
                </div>
            </article>
        </div>
        
<section id="comment">
    
    
</section>

    </div>
</section>
<footer id="footer">
    <div class="container text-center">
        <p>© 2015 veikr的博客.
            <a href="http://creativecommons.org/licenses/by/3.0/">Some rights reserved </a> |
            <a href="/feed.xml">Feed</a> |
            <a href="/sitemap.xml">Sitemap</a>
        </p>
        <p>Powered by <a href="https://github.com/go-xiaohei/pugo">PuGo 0.10.5 (beta)</a>. Theme by Default.
        </p>
        
    
    

    </div>
</footer>
<script src="/js/jquery-2.1.4.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/prism.min.js"></script>
<script>
    $(document).ready(function () {
        $("pre code").addClass("line-numbers")
    });
</script>
</body>
</html>
