<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>java中使用cipher进行信息加密解密的简单教程 - veikr的博客</title>
    <meta name="keywords" content="veikr的博客"/>
    <meta name="description" content=""/>
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/prism.css"/>
    <link rel="stylesheet" href="/css/style.css"/>
</head>
<body class="post" data-perma="java_cipher_encrypt">
<header id="header">
    <div class="container">
        <div class="header clearfix">
            <nav id="site-nav">
                <ul class="nav nav-inverse nav-pills pull-right">
                    <li role="presentation" class="">
                        <a href="/" >文章
                        </a>
                    </li>
                    <li role="presentation" class="">
                        <a href="/archive" >归档
                        </a>
                    </li>
                </ul>
            </nav>
            <h3 id="site-title">
                <a href="/">veikr的博客 <sup>关于web、关于java、关于android</sup></a>
            </h3>
        </div>
    </div>
</header>

<section id="main">
    <div class="container">
        <div id="article-single">
            <article class="article">
                <div class="row">
                    <div class="col-md-10 col-md-offset-1 panel panel-default">
                        <header class="header">
                            <div class="meta">
                        <span class="date">
                            <span class="month">6</span>
                            <span class="day">24</span>
                        </span>
                            </div>
                            <h3 class="title">
                                <a href="/2010/6/24/java_cipher_encrypt.html">java中使用cipher进行信息加密解密的简单教程</a>
                            </h3>
                        </header>
                        <aside class="aside clearfix">
                            
                            <a class="tag label label-info" href="/tags/cipher.html">cipher</a>
                            
                            <a class="tag label label-info" href="/tags/java.html">java</a>
                            
                            <a class="tag label label-info" href="/tags/%e5%8a%a0%e5%af%86.html">加密</a>
                            
                            <a class="tag label label-info" href="/tags/%e6%95%99%e7%a8%8b.html">教程</a>
                            
                            <a class="tag label label-info" href="/tags/%e8%a7%a3%e5%af%86.html">解密</a>
                            
                            
                        </aside>
                        <section class="brief"><p>本文概要：使用java自带的cipher类进行简单的信息加密解密操作。<br/>[code=java]<br/>package encryptwithcer;<br/><br/>import java.security.Key;<br/><br/>import javax.crypto.Cipher;<br/>import javax.crypto.KeyGenerator;<br/><br/>public class EncryptExample {<br/>   public</p>

<!--more-->

<p>本文概要：使用java自带的cipher类进行简单的信息加密解密操作。</p>

<p>[java]
package encryptwithcer;
import java.security.Key;
import javax.crypto.Cipher;
import javax.crypto.KeyGenerator;
public class EncryptExample {
    public static void main(String[] args) throws Exception {
        byte[] message = &quot;这是需要加密的信息&quot;.getBytes();
        System.out.println(&quot;加密前的信息：&quot;+new String(message));
        //得到加密用的KEY&lt;br/&gt;      KeyGenerator keyGen = KeyGenerator.getInstance(&quot;DES&quot;);
        Key key = keyGen.generateKey();
        System.out.println(&quot;得到key成功&quot;);
        //初始化加密器
        Cipher cipher = Cipher.getInstance(&quot;DES&quot;);
        cipher.init(Cipher.ENCRYPT_MODE, key);
        System.out.println(&quot;初始化加密器成功&quot;);
        //加密&lt;br/&gt;     byte[] encrypt_message = cipher.doFinal(message);
        System.out.println(&quot;加密成功&quot;);
        System.out.println(&quot;加密后的信息:&quot;+new String(encrypt_message));
        //解密&lt;br/&gt;     cipher.init(Cipher.DECRYPT_MODE, key);
&gt;        byte[] result = cipher.doFinal(encrypt_message);
        System.out.println(&quot;解密成功&quot;);
        System.out.println(&quot;解密后的信息:&quot;+new String(result));
    }
}
[/java]</p>

<p><span style="color: red;">注：我搞这个的时候出过一个很奇怪的问题，不管原始信息有多长，加密后总是只有8个字节。弄了半天，后来终于知道了原因。
我写的是cipher.update(message);byte[] result=cipher.doFinal(); 所以会出错。
正确的做法应该是byte[] result=cipher.doFinal(message);
悲剧的是，我到现在还不知道update方法是干嘛的。。。</span></p>

<p>&nbsp;</p>
</section>
                    </div>
                </div>
            </article>
        </div>
        
<section id="comment">
    
    
</section>

    </div>
</section>
<footer id="footer">
    <div class="container text-center">
        <p>© 2015 veikr的博客.
            <a href="http://creativecommons.org/licenses/by/3.0/">Some rights reserved </a> |
            <a href="/feed.xml">Feed</a> |
            <a href="/sitemap.xml">Sitemap</a>
        </p>
        <p>Powered by <a href="https://github.com/go-xiaohei/pugo">PuGo 0.10.5 (beta)</a>. Theme by Default.
        </p>
        
    
    

    </div>
</footer>
<script src="/js/jquery-2.1.4.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/prism.min.js"></script>
<script>
    $(document).ready(function () {
        $("pre code").addClass("line-numbers")
    });
</script>
</body>
</html>
